<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>所有会议</title>
    <link rel="shortcut icon" type="image/x-icon" href="../plugs/image/favicon.ico"/>
    <link rel="stylesheet" href="../plugs/layui/css/layui.css">
    <!--<link rel="stylesheet" href="../plugs/zui/zui.css">-->
    <!--<link rel="stylesheet" href="../plugs/zui/zui.datagrid.min.css">-->
    <script src="../plugs/javascript/jquery-1.11.3.min.js"></script>
    <!--<script src="../plugs/javascript/jquery.cookie.js"></script>-->
    <!--<script src="../plugs/javascript/layer.js"></script>-->
    <!--<script src="../plugs/zui/zui.js"></script>-->
    <!--<script src="../plugs/zui/zui.datagrid.min.js"></script>-->
    <script src="../plugs/layui/layui.js"></script>

    <script type="text/javascript">
        $(function () {
            layui.use('table', function () {
                var table = layui.table;

                //第一个实例
                table.render({
                    elem: '#demo',
                    height: 'full-120',
                    // , url: '' //数据接口
                    page: true, //开启分页
                    toolbar: '#bar1',//开启表格头部工具栏区域
                    // toolbar: 'default',//开启表格头部工具栏区域
                    skin: 'line', //行边框风格
                    even: true,//开启隔行背景
                    // size: 'lg', //小尺寸的表格
                    cols: [[ //表头
                        {fixed: 'left', width: '5%', type: "checkbox"},
                        {field: 'id', title: 'ID', width: '10%', align: 'center', sort: true, type: 'numbers'},
                        {field: 'theme', title: '会议名称', width: '30%', align: 'center', sort: true},
                        {field: 'time', title: '时间', width: '10%', align: 'center', sort: true},
                        {field: 'college', title: '承办单位', width: '10%', align: 'center', sort: true},
                        {field: 'type', title: '会议类型', width: '10%', align: 'center', sort: true},
                        {field: 'state', title: '状态', width: '10%', align: 'center', sort: true},
                        {field: 'operation', title: '操作', width: '15%', align: 'center', toolbar: '#bar2'}
                    ]],
                    data: [
                        {
                            "id": 10001,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结',
                        }, {
                            "id": 10002,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结',
                        }, {
                            "id": 10003,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10004,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10005,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10006,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10007,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10008,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10009,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10010,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10011,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10012,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10013,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10014,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10015,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10016,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10017,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10018,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10019,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10020,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10021,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10022,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10023,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10024,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10025,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10026,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10027,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10028,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }, {
                            "id": 10029,
                            "time": "2018-12-22",
                            "college": "电信学院",
                            "type": "党政联席会议",
                            "theme": '学院学科建设研讨会',
                            "state": '已完结'
                        }
                    ]
                });
                //监听头工具栏事件
                table.on('toolbar(table1)', function (obj) {
                    var checkStatus = table.checkStatus(obj.config.id), data = checkStatus.data; //获取选中的数据
                    switch (obj.event) {
                        case 'add':
                            layer.msg('添加');
                            break;
                        case 'update':
                            if (data.length === 0) {
                                layer.msg('请选择一行');
                            } else if (data.length > 1) {
                                layer.msg('只能同时编辑一个');
                            } else {
                                layer.alert('编辑 [id]：' + checkStatus.data[0].id);
                            }
                            break;
                        case 'delete':
                            if (data.length === 0) {
                                layer.msg('请选择一行');
                            } else {
                                layer.msg('删除');
                            }
                            break;
                    }
                    ;
                });
                //监听行工具事件
                table.on('tool(table1)', function (obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                    var data = obj.data; //获得当前行数据
                    var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
                    var tr = obj.tr; //获得当前行 tr 的DOM对象

                    if (layEvent === 'detail') { //查看
                        //do somehing
                    } else if (layEvent === 'del') { //删除
                        layer.confirm('真的删除行么', function (index) {
                            obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                            layer.close(index);
                            //向服务端发送删除指令
                        });
                    } else if (layEvent === 'edit') { //编辑
                        //do something

                        //同步更新缓存对应的值
                        obj.update({
                            username: '123'
                            , title: 'xxx'
                        });
                    } else if (layEvent === 'delete') { //删除
                        layer.confirm('真的删除行么', function (index) {
                            obj.del(); //删除对应行（tr）的DOM结构，并更新缓存
                            layer.close(index);
                            //向服务端发送删除指令
                        });
                    }
                });

            });

        });
    </script>
    <style>
        html, body {
            padding: 0px;
            margin: 0;
            font-family: Arial;
            font-size: 14px;
            /*min-height: 500px;*/
            /*min-width: 500px;*/
            width: 100%;
            height: 100%;
            overflow: auto;
            overflow-x: auto;
        }
    </style>
</head>
<body>
<div style="margin: 15px" class="layui-card layui-anim layui-anim-upbit">
    <div class="layui-card-header">全部会议</div>
    <div class="layui-card-body">
        <table id="demo" lay-filter="table1"></table>
    </div>
    <script type="text/html" id="bar1">
        <div class="layui-inline" lay-event="delete"><i class="layui-icon layui-icon-delete"></i></div>
    </script>
    <script type="text/html" id="bar2">
        <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>
</div>
</body>
</html>